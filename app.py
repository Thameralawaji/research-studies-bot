import streamlit as st
import pandas as pd

# =============================
# ๐น ุฅุนุฏุงุฏ ุงูุชุทุจูู (ูุณุงุนุฏ ุฅุฏุงุฑุฉ ุงูุจุญูุซ ูุงูุฏุฑุงุณุงุช ุงูุฐูู)
# =============================
st.set_page_config(page_title="ูุณุงุนุฏ ุฅุฏุงุฑุฉ ุงูุจุญูุซ ูุงูุฏุฑุงุณุงุช ุงูุฐูู", layout="wide")

st.title("๐ ูุณุงุนุฏ ุฅุฏุงุฑุฉ ุงูุจุญูุซ ูุงูุฏุฑุงุณุงุช ุงูุฐูู")

st.markdown("""
ูุฑุญุจูุง ุจูู **ูุถููุฉ ุงูุดูุฎ** ูู ูุณุงุนุฏ ุฅุฏุงุฑุฉ ุงูุจุญูุซ ูุงูุฏุฑุงุณุงุช ุงูุฐูู.

๐ ููููู ุงูุจุญุซ ูู ุฌููุน ุงูุฏุฑุงุณุงุช ูุชุตูููุงุชูุง ุจุณูููุฉุ ููุฑุฌู ุฃู ููุณุฑ ุงููู ููู ุงูุงูุชูุงุน ุจู ูู ุจุญูุซูู ูุฎุฏูุชูู ุงูุนูููุฉ.
""")

# =============================
# ๐น ุชุญููู ุงูุจูุงูุงุช
# =============================
file_path = "C:\\Users\\user\\OneDrive\\ุณุทุญ ุงูููุชุจ\\ูุณุฎุฉ ุงูุฏุฑุงุณุงุช\\ูุณุฎุฉ ูู ูุฌููุน ุงูุฏุฑุงุณุงุช.xlsx"
data = pd.read_excel(file_path, sheet_name="ูุฑูุฉ1")

# =============================
# ๐น ูุนุงูุฌุฉ ุงูุจูุงูุงุช (ุชุฑุชูุจ ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ ูุฅุฎูุงุก ุบูุฑ ุงููููุฉ ุงูุชุฑุงุถููุง)
# =============================
# ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ ููุนุฑุถ ุงููุจุฏุฆู
main_columns = ['ููุถูุน 1', 'ููุถูุน 2', 'ููุถูุน 3', 'ููุถูุน 4', 'ููุถูุน 5', 'ููุถูุน 6', 'ููุถูุน 7',
                'ููุถูุน 8', 'ููุถูุน 9', 'ููุถูุน 10', 'ููุถูุน 11', 'ููุถูุน 12', 'ููุถูุน 13',
                'ููุถูุน ุงูุฏุฑุงุณุฉ', 'ุนููุงู ุงูุชุตููู ุงูุฑุฆูุณู', 'ุนููุงู ุงูุชุตููู ุงููุฑุนู 1', 'ุนููุงู ุงูุชุตููู ุงููุฑุนู 2',
                'ุงูุฏุงุฑุณ', 'ุงููุตูุต ุงููุธุงููุฉ']

# ุงูุฃุนูุฏุฉ ุงูุฅุถุงููุฉ ุบูุฑ ุงููุนุฑูุถุฉ ุงูุชุฑุงุถููุง
hidden_columns = ['ุฃุฑูุงู', 'ุงูุฃุดุฎุงุต ุงููุชุนููุฉ ุจูู ุงูุฏุฑุงุณุฉ', 'ุงููุดุฑูุน ูุญู ุงูุฏุฑุงุณุฉ', 'ุงููุญููุฉ ุฐุงุช ุงูุนูุงูุฉ']

# =============================
# ๐น ูุงุฌูุฉ ุงูุจุญุซ
# =============================
search_query = st.text_input("๐ ุฃุฏุฎู ูููุฉ ููุชุงุญูุฉ ููุจุญุซ:")

if search_query:
    # ุงูุจุญุซ ูู ุฌููุน ุงูุฃุนูุฏุฉ ุงููุญุฏุฏุฉ
    filtered_data = data[data[main_columns].apply(lambda row: row.astype(str).str.contains(search_query, case=False, na=False)).any(axis=1)]

    if not filtered_data.empty:
        st.success(f"โ ุชู ุงูุนุซูุฑ ุนูู {len(filtered_data)} ูุชูุฌุฉ:")

        # ุนุฑุถ ุงููุชุงุฆุฌ ุจุงูุฃุนูุฏุฉ ุงููุทููุจุฉ ููุท
        st.dataframe(filtered_data[main_columns])

        # =============================
        # ๐น ุฅุธูุงุฑ ุงูุฃุนูุฏุฉ ุงูุฅุถุงููุฉ ุนูุฏ ุงูุทูุจ
        # =============================
           # =============================
        # ๐น ุฅุธูุงุฑ ุงูุฃุนูุฏุฉ ุงูุฅุถุงููุฉ ุนูุฏ ุงูุทูุจ
        # =============================
        if st.checkbox("๐ ุฅุธูุงุฑ ุชูุงุตูู ุฅุถุงููุฉ (ุฃุฑูุงูุ ุงูุฃุดุฎุงุตุ ุงููุดุฑูุนุ ุงููุญููุฉ)"):
            st.dataframe(filtered_data[hidden_columns])
  


